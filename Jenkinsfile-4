node('vagrant-node') {
  stage('Back-end') {
    docker.image('maven:3.8.1-adoptopenjdk-11').inside {
      sh 'mvn --version'
    }
  }
  stage('Front-end') {
    docker.image('node:16-alpine').inside {
      sh 'node --version'
    }
  }
  stage('My dockerfile') {
    docker.build('.').inside {
      sh '''
        node --version
        git --version
        curl --version
      '''
    }
  }
}